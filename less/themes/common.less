// This is a collection of common mixins used by themes.
// These mixins generate properties only if those properties override the default values provided by navbar.less.
// For example, border-radius is only set if a theme sets the @rad variable to a value other than 0.
// Similarly, the height property will only be set if a theme overrides the default 36px.

//-------- Mixins --------//

// Set border-radius if the theme sets @rad to something other than 0
.radius (@r) when not (@r = 0) {
    border-radius: @r;

    .flexbox &.full-width > li:last-child > a {
        border-radius: 0 @r @r 0;
    }
    > li {
        &:first-child > a {
            border-radius: @r 0 0 @r;
        }
    }
}
.radius (@r) {
    // a default mixin is currently required by the compiler
}
.mobile-radius (@r) when not (@r = 0) {
    > li {
        &:first-child > a {
            border-radius: @r @r 0 0;
        }
        &:last-child > a {
            border-radius: 0 0 @r @r;
        }
    }
}
.mobile-radius (@r) {
    // a default mixin is currently required by the compiler
}

// If the theme uses are border-radius, indent wide menus to the inside of the radius.
// The navbar border-radius will never be greater than the 1/2 of the height,
// so make sure we don't indent the menu farther than needed.
.menu-width (@r, @h) when (@r >= (@h / 2)) {
    left: (@h / 2);
    right: (@h / 2);
}
.menu-width (@r, @h) when (@r < (@h / 2)) and not (@r = 0) {
    left: @r;
    right: @r;
}
.menu-width (@r, @h) {
    // a default mixin is currently required by the compiler
}
.mobile-menu-width (@r) when not (@r = 0) {
    left: 0;
    right: 0;
}
.mobile-menu-width (@r) {
    // a default mixin is currently required by the compiler
}

// If the theme sets @height to something other than the default (36px),
// adjust height and line-height as needed
.height (@h) when not (@h = 36px) {
    min-height: @h;
}
.height (@h) {
    // a default mixin is currently required by the compiler
}
.lineheight (@h) when not (@h = 36px) {
    line-height: @h;
}
.lineheight (@h) {
    // a default mixin is currently required by the compiler
}
.mobile-height (@h) when not (@h = 36px) {
    height: auto;
    > li {
        > a {
            line-height: 40px;
        }
    }
}
.mobile-height (@h) {
    // a default mixin is currently required by the compiler
}